{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/delete.component.html","webpack:///./src/app/generator/generator.component.css","webpack:///./src/app/generator/generator.component.html","webpack:///./src/app/generator/generator.component.ts","webpack:///./src/app/generator/utilities.ts","webpack:///./src/app/login.component.html","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \".no-click {\\n    pointer-events: none;\\n}\"","module.exports = \"<div fxLayout=\\\"column\\\" fxFlexFill>\\n  <div fxLayout=\\\"row\\\" fxLayoutWrap>\\n    <div fxFlex=\\\"40\\\" fxFlex.md=\\\"100\\\" fxFlex.sm=\\\"100\\\" fxFlex.xs=\\\"100\\\" fxFlexOffset=\\\"5\\\" fxLayoutAlign=\\\"start center\\\">\\n      <div class=\\\"material-text\\\" fxFlex fxLayoutAlign=\\\"start center\\\">Art Generator</div>\\n      <div fxFlex class=\\\"material-text\\\" style=\\\"font-size: 14px !important\\\" fxShow=\\\"true\\\" fxShow.md=\\\"false\\\" fxShow.sm=\\\"false\\\" fxShow.xs=\\\"false\\\"\\n        fxLayoutAlign=\\\"end center\\\">Each piece is algorithmically unique.</div>\\n    </div>\\n\\n    <div fxFlex>\\n      <div fxFlex fxFlexOffset=\\\"7\\\" fxShow=\\\"true\\\" fxLayoutGap=\\\"5px\\\" fxShow.md=\\\"false\\\" fxShow.sm=\\\"false\\\" fxShow.xs=\\\"false\\\" fxLayoutAlign=\\\"start center\\\">\\n        <button matTooltip=\\\"Customize Patterns\\\" matTooltipPosition=\\\"right\\\" [disabled]=\\\"!renderDone\\\" (click)=\\\"getRandomArt(true)\\\"\\n          class=\\\"float-left inline\\\" mat-raised-button>\\n          Get New Art</button>\\n        <a href=\\\"#\\\" target=\\\"_blank\\\" class=\\\"float-left inline\\\" #downloadLink (click)=\\\"download(downloadLink)\\\" download=\\\"art.jpg\\\">\\n          <button [disabled]=\\\"!renderDone\\\" mat-stroked-button>\\n            Save this art\\n          </button>\\n        </a>\\n      </div>\\n      <div fxFlex fxShow=\\\"true\\\" fxLayoutAlign=\\\"end center\\\">\\n        <button matTooltip=\\\"Customize Patterns\\\" matTooltipPosition=\\\"right\\\" [fxShow]=\\\"!login\\\" (click)=\\\"openLoginModal()\\\" mat-stroked-button>\\n          <span> Sign In </span>\\n        </button>\\n        <span *ngIf=\\\"login\\\" fxLayoutAlign=\\\"horizontal center\\\" fxLayoutGap=\\\"5px\\\">\\n          <span>{{email}}</span>\\n          <button fxFlex=\\\"5\\\" (click)=\\\"signOut()\\\" fxShow.md=\\\"false\\\" fxShow.sm=\\\"false\\\" fxShow.xs=\\\"false\\\" mat-stroked-button>\\n            <span> Sign Out </span>\\n          </button>\\n        </span>\\n      </div>\\n      <div fxFlex=\\\"6\\\"></div>\\n    </div>\\n  </div>\\n  <div fxFlexOffset=\\\"2\\\" fxLayout=\\\"row\\\" fxShow=\\\"false\\\" fxShow.md=\\\"true\\\" fxShow.sm=\\\"true\\\" fxShow.xs=\\\"true\\\" fxLayoutWrap>\\n    <div fxFlex fxFlexOffset=\\\"5\\\" fxLayoutAlign=\\\"start center\\\"> Each piece is algorithmically unique.</div>\\n    <div fxFlex=\\\"20\\\" fxLayoutAlign=\\\"end center\\\">\\n\\n\\n      <button *ngIf=\\\"login\\\" fxFlex=\\\"5\\\" (click)=\\\"signOut()\\\" mat-stroked-button>\\n        <span> Sign Out </span>\\n      </button>\\n\\n    </div>\\n  </div>\\n  <div fxFlexOffset=\\\"0\\\" fxLayout=\\\"row\\\" fxShow=\\\"false\\\" fxShow.md=\\\"true\\\" fxShow.sm=\\\"true\\\" fxShow.xs=\\\"true\\\" fxLayoutWrap>\\n    <div fxFlexOffset=\\\"4\\\" fxFlex=\\\"60\\\" fxLayoutAlign=\\\"start center\\\" fxLayoutGap=\\\"5\\\">\\n      <button [disabled]=\\\"!renderDone\\\" (click)=\\\"getRandomArt(true)\\\" class=\\\"float-left inline\\\" mat-stroked-button>\\n        Get New Art</button>\\n      <a href=\\\"#\\\" target=\\\"_blank\\\" class=\\\"inline\\\" #downloadLinkTwo (click)=\\\"download(downloadLinkTwo)\\\" download=\\\"art.jpg\\\">\\n\\n        <button [disabled]=\\\"!renderDone\\\" mat-stroked-button>\\n          Save this art\\n        </button>\\n      </a>\\n    </div>\\n    <div fxFlex=\\\"40\\\" fxLayoutAlign=\\\"end center\\\">\\n\\n    </div>\\n  </div>\\n\\n  <div fxFlexOffset=\\\"0\\\" fxLayout=\\\"row\\\" fxShow=\\\"false\\\" fxShow.md=\\\"true\\\" fxShow.sm=\\\"true\\\" fxShow.xs=\\\"true\\\" fxLayoutWrap fxLayoutGap=\\\"5px\\\"\\n    fxLayoutAlign=\\\"start center\\\">\\n    <div fxFlexOffset=\\\"4\\\" fxLayoutAlign=\\\"start center\\\">\\n      <span (click)=\\\"filterFavorites()\\\" class=\\\"hover-red\\\">\\n        <i class=\\\"material-icons\\\">\\n          filter_list\\n        </i>\\n\\n        <i [fxShow]=\\\"showFavorites\\\" class=\\\"material-icons\\\">\\n          favorite\\n        </i>\\n        <i [fxShow]=\\\"!showFavorites\\\" class=\\\"material-icons\\\">\\n          favorite_border\\n        </i>\\n      </span>\\n    </div>\\n\\n    <!-- <mat-slide-toggle [@.disabled]=\\\"true\\\" [checked]=\\\"true\\\" (dragChange)=\\\"toggleImages($event)\\\"></mat-slide-toggle> -->\\n\\n    <!-- <mat-slide-toggle [checked]=\\\"customImagesActive\\\" (dragChange)=\\\"toggleImages($event)\\\"></mat-slide-toggle> -->\\n    <span *ngIf=\\\"ready\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n      <span *ngFor=\\\"let customImage of customImages; let i = index\\\" [ngStyle]=\\\"{'background-image': 'url(' + this.customImages[i]?.src + ')'}\\\"\\n        class=\\\"tile\\\">\\n        <input #fileInput class=\\\"file-input\\\" type=\\\"file\\\" multiple (change)=\\\"uploadCustomImage(i, $event)\\\">\\n        <span class=\\\"upload hover\\\" fxLayoutAlign=\\\"center end\\\">\\n          <i [fxShow]=\\\"customImage.ready\\\" class=\\\"material-icons heart margin-top-auto bottom-0\\\">\\n            arrow_upward\\n          </i>\\n        </span>\\n        <span [fxShow]=\\\"!customImage.ready\\\" class=\\\"upload\\\" fxLayoutAlign=\\\"center end\\\">\\n          <div class=\\\"margin-auto loader small\\\"></div>\\n        </span>\\n        <span [fxShow]=\\\"customImage.fileTooBig\\\" class=\\\"upload warning\\\" fxLayoutAlign=\\\"end center\\\" fxLayout=\\\"column\\\">\\n          <i class=\\\"material-icons heart margin-top-auto bottom-0\\\">\\n            warning\\n          </i>\\n        </span>\\n      </span>\\n    </span>\\n  </div>\\n\\n  <div class=\\\"min-height-450\\\" fxLayout=\\\"row\\\" fxFlexOffset.md=\\\"5\\\" fxFlexOffset.sm=\\\"5\\\" fxFlexOffset.xs=\\\"5\\\" fxLayout.md=\\\"column\\\"\\n    fxLayout.sm=\\\"column\\\" fxLayout.xs=\\\"column\\\" fxFlex.md=\\\"100\\\" fxFlex.sm=\\\"100\\\" fxFlex.xs=\\\"100\\\">\\n    <div class=\\\"relative overflow-scroll\\\" fxFlex=\\\"40\\\" fxFlexOffset.xl=\\\"5\\\" fxFlexOffset.md=\\\"5\\\" fxFlexOffset.lg=\\\"5\\\" fxFlexOffset.md=\\\"0\\\"\\n      fxFlexOffset.sm=\\\"0\\\" fxFlex.md=\\\"25\\\" fxFlex.sm=\\\"20\\\" fxFlex.xs=\\\"20\\\">\\n      <mat-grid-list *ngIf=\\\"!showFavorites\\\" class=\\\"canvas-height\\\" cols=\\\"5\\\" rows=\\\"5\\\" gutterSize=\\\"5px\\\">\\n        <div [fxShow]=\\\"!imagePopulationDone\\\" #loaderCanvas class=\\\"absolute margin-auto loader\\\">\\n        </div>\\n        <mat-grid-tile fxLayout=\\\"row\\\" *ngFor=\\\"let savedImg of savedImageArr; let i = index;\\\">\\n          <img class=\\\"on-hover-outline height-100 width-100 float-left\\\" [ngClass]=\\\"{'selected': i === currImageIndex}\\\" (click)=\\\"renderImage(i)\\\"\\n            [(src)]=\\\"savedImageArr[i]['src']\\\" />\\n          <span class=\\\"img-action-buttons\\\" fxLayout=\\\"row\\\">\\n            <span [fxShow.lg]=\\\"true\\\" [fxShow.md]=\\\"true\\\" [fxShow.sm]=\\\"false\\\" [fxShow.xs]=\\\"false\\\">\\n              <i (click)=\\\"openDeleteDialog(savedImg, i)\\\" class=\\\"material-icons on-hover-trash heart\\\">\\n                delete\\n              </i>\\n              <i (click)=\\\"saveToFavorites(savedImg, i)\\\" class=\\\"material-icons on-hover-trash heart\\\" [ngClass]=\\\"{\\n                  'show': savedImg.favorite \\n                }\\\">\\n                favorite\\n              </i>\\n            </span>\\n\\n            <span [fxShow.xl]=\\\"false\\\" [fxShow.lg]=\\\"false\\\" [fxShow.md]=\\\"false\\\" [fxShow.sm]=\\\"true\\\" [fxShow.xs]=\\\"true\\\">\\n              <i (click)=\\\"openDeleteDialog(savedImg, i)\\\" class=\\\"material-icons heart\\\">\\n                delete_outline\\n              </i>\\n              <i (click)=\\\"saveToFavorites(savedImg, i)\\\" class=\\\"material-icons heart\\\">\\n                {{ savedImg.favorite ? 'favorite' : 'favorite_border'}}\\n              </i>\\n            </span>\\n          </span>\\n        </mat-grid-tile>\\n\\n      </mat-grid-list>\\n\\n      <mat-grid-list *ngIf=\\\"showFavorites\\\" [ngClass]=\\\"{'no-click': !showFavorites}\\\" class=\\\"canvas-height\\\" cols=\\\"5\\\" rows=\\\"5\\\" gutterSize=\\\"5px\\\">\\n        <mat-grid-tile *ngFor=\\\"let savedImg of favoritesArr; let i = index;\\\">\\n\\n          <img class=\\\"on-hover-outline height-100 width-100 float-left\\\" [ngClass]=\\\"{\\n                  'selected': i === currImageIndex\\n                }\\\" (click)=\\\"renderImage(i)\\\" [(src)]=\\\"savedImg.src\\\" />\\n          <span class=\\\"img-action-buttons\\\" fxLayout=\\\"row\\\">\\n\\n            <span [fxShow.lg]=\\\"true\\\" [fxShow.md]=\\\"true\\\" [fxShow.sm]=\\\"false\\\" [fxShow.xs]=\\\"false\\\">\\n\\n              <!-- <i (click)=\\\"openDeleteDialog(savedImg, i)\\\" class=\\\"material-icons on-hover-trash\\\">\\n                delete\\n              </i> -->\\n              <i (click)=\\\"saveToFavoritesFromFavorite(savedImg, i)\\\" class=\\\"material-icons on-hover-trash heart\\\" [ngClass]=\\\"{\\n                          'show': savedImg.favorite \\n                        }\\\">\\n                favorite\\n              </i>\\n            </span>\\n\\n\\n            <span [fxShow.lg]=\\\"false\\\" [fxShow.md]=\\\"false\\\" [fxShow.sm]=\\\"true\\\" [fxShow.xs]=\\\"true\\\">\\n              <i (click)=\\\"openDeleteDialog(savedImg, i)\\\" class=\\\"material-icons\\\">\\n                delete_outline\\n              </i>\\n              <i (click)=\\\"saveToFavorites(savedImg, i)\\\" class=\\\"material-icons heart\\\">\\n                {{ savedImg.favorite ? 'favorite' : 'favorite_border'}}\\n              </i>\\n            </span>\\n          </span>\\n        </mat-grid-tile>\\n      </mat-grid-list>\\n    </div>\\n    <div fxFlex>\\n      <span class=\\\"text-align-left\\\" fxFlex=\\\"7\\\" fxShow.md=\\\"false\\\" fxShow.sm=\\\"false\\\" fxShow.xs=\\\"false\\\" [fxShow]=\\\"ready\\\" fxLayout=\\\"column\\\"\\n        fxLayoutAlign=\\\"start center\\\" fxLayoutGap=\\\"9px\\\">\\n\\n        <span class=\\\"material-text float-left text-align-center\\\" fxShow.lg=\\\"true\\\" fxShow.md=\\\"false\\\" fxShow.sm=\\\"false\\\" fxShow.xs=\\\"false\\\"\\n          (click)=\\\"filterFavorites()\\\"><i class=\\\"material-icons\\\">\\n            filter_list\\n          </i>\\n\\n          <i [fxShow]=\\\"showFavorites\\\" class=\\\"material-icons\\\">\\n            favorite\\n          </i>\\n          <i [fxShow]=\\\"!showFavorites\\\" class=\\\"material-icons\\\">\\n            favorite_border\\n          </i>\\n        </span>\\n        <mat-slide-toggle matTooltip=\\\"Customize Patterns\\\" tool-tip=\\\"Customize Patterns\\\" [checked]=\\\"customImagesActive\\\" (change)=\\\"toggleImages()\\\"></mat-slide-toggle>\\n        <span *ngIf=\\\"ready\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"start center\\\">\\n          <span *ngFor=\\\"let customImage of customImages; let i = index\\\" [ngStyle]=\\\"{'background-image': 'url(' + this.customImages[i]?.src + ')'}\\\"\\n            class=\\\"tile\\\">\\n            <input #fileInput class=\\\"file-input\\\" type=\\\"file\\\" multiple (change)=\\\"uploadCustomImage(i, $event)\\\">\\n            <span class=\\\"upload hover\\\" fxLayoutAlign=\\\"center end\\\">\\n              <i [fxShow]=\\\"customImage.ready\\\" class=\\\"material-icons heart margin-top-auto bottom-0\\\">\\n                arrow_upward\\n              </i>\\n            </span>\\n            <span [fxShow]=\\\"!customImage.ready\\\" class=\\\"upload\\\" fxLayoutAlign=\\\"center end\\\">\\n              <div class=\\\"margin-auto loader small\\\"></div>\\n            </span>\\n            <span [fxShow]=\\\"customImage.fileTooBig\\\" class=\\\"upload warning\\\" fxLayoutAlign=\\\"end center\\\" fxLayout=\\\"column\\\">\\n              <i class=\\\"material-icons heart margin-top-auto bottom-0\\\">\\n                warning\\n              </i>\\n            </span>\\n          </span>\\n        </span>\\n      </span>\\n      <generator (updateCurrentIndex)=\\\"updateCurrentIndex($event)\\\" [currImageIndex]=\\\"currImageIndex\\\" [customImagesActive]=\\\"customImagesActive\\\"\\n        [customImages]=\\\"customImages\\\" [savedImageArr]=\\\"savedImageArr\\\" [favoritesArr]=\\\"favoritesArr\\\" (saveImageFirebase)=\\\"saveImageFirebase($event)\\\"\\n        (renderDoneEmit)=\\\"setRenderDone(true)\\\"></generator>\\n    </div>\\n  </div>\\n  <div fxLayout=\\\"row\\\" fxShow=\\\"true\\\" fxShow.md=\\\"false\\\" fxShow.sm=\\\"false\\\" fxShow.xs=\\\"false\\\" fxLayoutAlign=\\\"start start\\\">\\n    <span class=\\\"material-text\\\" fxFlexOffset=\\\"5\\\" style=\\\"font-size: 14px !important\\\">art and code by <a href=\\\"https://github.com/kvanlaan\\\"\\n        class=\\\"name\\\" target=\\\"_blank\\\"> Katrina Van Laan</a></span>\\n  </div>\\n</div>\\n<div [fxShow]=\\\"!ready\\\" class=\\\"absolute margin-auto loader\\\">\\n</div>\"","import { Component, HostListener, ViewChild, ViewChildren } from '@angular/core';\nimport { Location } from '@angular/common';\nimport * as firebase from 'firebase';\nimport * as firebaseui from 'firebaseui';\nimport { MatDialog, MatSlideToggle } from '@angular/material';\nimport { LocationStrategy, PathLocationStrategy } from '../../node_modules/@angular/common';\nimport { GeneratorComponent } from './generator/generator.component';\nimport { Utilities } from './generator/utilities';\nimport 'hammerjs';\nimport * as gcs from '@google-cloud/storage';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  templateUrl: './login.component.html'\n})\n\nexport class LoginDialogComponent {\n}\n@Component({\n  templateUrl: './delete.component.html'\n})\nexport class DeleteDialogComponent {\n  constructor() {\n  }\n}\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers: [Location, { provide: LocationStrategy, useClass: PathLocationStrategy }, Utilities]\n})\n\nexport class AppComponent {\n  @ViewChild(GeneratorComponent) generator;\n  @ViewChild('loaderCanvas') loader;\n  // @ViewChild('fileInput') fileInput;\n\n  @ViewChildren('fileInput') fileInputs\n  currImageIndex = 0;\n  customImages =\n    [{ 'name': 'uploadCustom1', 'crossOrigin': \"Anonymous\", 'src': 'assets/arabesque_pattern.jpg', 'ready': true, 'fileTooBig': false },\n    { 'name': 'uploadCustom2', 'crossOrigin': \"Anonymous\", 'src': 'assets/kosovo_map.jpg', 'ready': true, 'fileTooBig': false },\n    { 'name': 'uploadCustom3', 'crossOrigin': \"Anonymous\", 'src': 'assets/frieze.jpg', 'ready': true, 'fileTooBig': false },\n    { 'name': 'uploadCustom4', 'crossOrigin': \"Anonymous\", 'src': 'assets/mexico_flag.jpg', 'ready': true, 'fileTooBig': false },\n    { 'name': 'uploadCustom5', 'crossOrigin': \"Anonymous\", 'src': 'assets/van.jpg', 'ready': true, 'fileTooBig': false },\n    { 'name': 'uploadCustom6', 'crossOrigin': \"Anonymous\", 'src': 'assets/trunks.png', 'ready': true, 'fileTooBig': false }\n    ];\n  database;\n  dialogRef;\n  displayName = '';\n  email = '';\n  favoritesArr;\n  guid;\n  imagesActive: boolean = false;\n  imagePopulationDone = true;\n  login = false;\n  newUser = false;\n  suffix = '';\n  ready = false;\n  renderDone = false;\n  shapeArr = ['Rectangle', 'Triangle', 'Circle', 'Line'];\n  showFavorites = false;\n  savedImageArr = [];\n  user;\n  ui;\n  patternImageArr;\n  darkDatabaseList = [];\n  constructor(public http: HttpClient, public utilities: Utilities, public dialog: MatDialog, public location: Location) {\n    this.utilities = utilities;\n    this.location = location;\n  }\n\n  @HostListener('window:keydown', ['$event'])\n  handlekeydown(e) {\n    const currIndex = this.currImageIndex;\n\n    if (e.keyCode === 39) {\n      if ((currIndex + 1) < this.savedImageArr.length) {\n        this.currImageIndex++;\n        this.renderImage(this.currImageIndex);\n      }\n    }\n    if (e.keyCode === 40) {\n      if (currIndex + 5 < this.savedImageArr.length) {\n        this.currImageIndex = currIndex + 5;\n        this.renderImage(this.currImageIndex);\n      }\n    }\n    if (e.keyCode === 38) {\n      if (currIndex - 5 >= 0) {\n        this.currImageIndex = currIndex - 5;\n        this.renderImage(this.currImageIndex);\n      }\n    }\n    if (e.keyCode === 37) {\n      if (currIndex - 1 >= 0) {\n        this.currImageIndex--;\n        this.renderImage(this.currImageIndex);\n      }\n    }\n  }\n\n  async ngOnInit() {\n\n    this.renderDone = false;\n    // setting up firebase\n    var config = {\n      apiKey: \"AIzaSyD98GbUHORmW3-C9nxvqboQLapTXxnSMM0\",\n      authDomain: \"artgenerator-8008a.firebaseapp.com\",\n      databaseURL: \"https://artgenerator-8008a.firebaseio.com\",\n      projectId: \"artgenerator-8008a\",\n      storageBucket: \"artgenerator-8008a.appspot.com\",\n      messagingSenderId: \"858892303412\"\n    };\n    firebase.initializeApp(config);\n\n    this.database = firebase.firestore();\n    const settings = { timestampsInSnapshots: true };\n    this.database.settings(settings);\n    this.ui = new firebaseui.auth.AuthUI(firebase.auth());\n    this.user = firebase.auth().currentUser;\n    // this.getDarkPatterns();\n\n    firebase.auth().onAuthStateChanged(async function (this, user) {\n      this.user = user;\n      this.user ? await this.handleSignedInUser() : await this.handleSignedOutUser();\n    }.bind(this));\n  }\n\n  // getDarkPatterns() {\n  //   if (this.darkDatabaseList.length === 0) {\n  //     return new Promise(resolve => {\n  //       this.http.get('http://localhost:4201/artImages').subscribe(function (this, res: any) {\n  //         res.forEach(function (this, item) {\n  //           if (item[\"metadata\"][\"name\"].indexOf('dark') > -1) {\n  //             this.darkDatabaseList.push(item[\"metadata\"][\"name\"]);\n  //           } \n  //         }.bind(this));\n  //         // this.patternDatabaseList = res.map(function (item) { return item[\"metadata\"][\"name\"]; });\n  //         resolve();\n  //       }.bind(this))\n  //     });\n  //   }\n  //   return;\n  // }\n\n  openLoginDialog() {\n    this.dialogRef = this.dialog.open(LoginDialogComponent, {\n      width: '300px'\n    });\n\n    this.dialogRef.afterClosed().subscribe(result => {\n    });\n  }\n\n  openDeleteDialog(imgObj, index) {\n    if (!document.getElementById('delete')) {\n\n      this.dialogRef = this.dialog.open(DeleteDialogComponent, {\n        width: '300px'\n      });\n      this.dialogRef.afterClosed().subscribe(result => {\n        if (result) {\n          this.delete(imgObj, index);\n        }\n      });\n    }\n  }\n\n  signOut() {\n    firebase.auth().signOut().then(function () {\n    }).catch(function (error) {\n    });\n    if (window.history.length > 1 && this.guid) {\n      location.href = '#loggedOut/' + this.guid;\n    }\n    this.resetImages();\n  }\n\n  async handleSignedInUser() {\n    this.displayName = this.user.displayName;\n    this.email = this.user.email;\n\n    this.login = true;\n    this.email = this.user.email;\n    if (location.hash.split('/') && location.hash.split('/')[1] && location.hash.split('/')[2]) {\n      this.guid = location.hash.split('/')[2];\n    }\n\n    let trimmedName = this.email;\n    location.href = '#user/' + this.email + '/' + this.guid;\n\n    if (this.newUser) {\n      if (this.savedImageArr.length) {\n        for (let img of this.savedImageArr)\n          this.saveImageFirebase(img);\n      }\n    } else {\n      this.savedImageArr = [];\n      if ((!this.newUser) || (this.newUser && this.savedImageArr.length === 0)) {\n\n        var storageRef = firebase.storage().ref();\n        if (this.ready && this.renderDone) {\n          this.imagePopulationDone = false;\n        }\n        for (let img in this.customImages) {\n          let numerator = (parseInt(img) + 1);\n          await storageRef.child(trimmedName + '/customImages/uploadCustom' + numerator).getDownloadURL().then((url) => {\n            if (url) {\n              this.customImages[parseInt(img)].src = url;\n            }\n          }).catch(function (error) {\n          });\n\n          if (parseInt(img) == (this.customImages.length - 1)) {\n            this.setCustomImages();\n          }\n        }\n\n        await this.database.collection('users/' + trimmedName + '/images').get().then((querySnapshot) => {\n          querySnapshot.forEach((doc) => {\n            this.savedImageArr.push(doc.data());\n          });\n\n          if (querySnapshot.docs.length) {\n            this.imagePopulationDone = true;\n\n            this.renderImage(0);\n          } else {\n            this.imagePopulationDone = true;\n\n            if (this.savedImageArr.length === 0) {\n              this.getRandomArt(true);\n            }\n          }\n        });\n      }\n    }\n  }\n\n  async openLoginModal() {\n    this.openLoginDialog();\n    await this.ui.start('#firebaseui-container', this.getUiConfig());\n  }\n\n  async handleSignedOutUser() {\n    let guid = '';\n    if (location.hash.split('/') && location.hash.split('/')[1]) {\n      this.guid = location.hash.split('/')[1];\n      guid = this.guid;\n      guid = location.hash.split('/')[1];\n    }\n\n    if (!document.getElementById('firebaseui-container')) {\n      this.login = false;\n\n      if (!this.user) {\n        // create a rand guid\n        if (location.href.indexOf('loggedOut') < 0) {\n          this.guid = this.utilities.getGuid();\n          location.href = '#loggedOut/' + this.guid;\n        } else {\n          if (guid) {\n            if (this.ready && this.renderDone) {\n              this.imagePopulationDone = false;\n            }\n            var storageRef = firebase.storage().ref();\n            for (let img in this.customImages) {\n              let numerator = (parseInt(img) + 1);\n              await storageRef.child(guid + '/customImages/uploadCustom' + numerator).getDownloadURL().then((url) => {\n                if (url) {\n                  this.customImages[parseInt(img)].src = url;\n                }\n              }).catch(function (error) {\n              });\n              if (parseInt(img) == (this.customImages.length - 1)) {\n                this.setCustomImages();\n\n              }\n            }\n            this.savedImageArr = [];\n            await this.database.collection('users/' + guid + '/images').get().then((querySnapshot) => {\n              querySnapshot.forEach((doc) => {\n                this.savedImageArr.push(doc.data());\n              });\n\n              if (querySnapshot.docs.length) {\n                this.imagePopulationDone = true;\n                this.renderImage(0);\n              } else {\n                this.imagePopulationDone = true;\n\n                // this.getRandomArt(true);\n              }\n\n            });\n\n          }\n        }\n        await this.openLoginModal();\n      }\n    }\n  }\n\n  getUiConfig() {\n    var uiConfig = {\n      callbacks: {\n        signInSuccessWithAuthResult: function (this, authResult, redirectUrl) {\n          this.login = true;\n          console.log('authResult', authResult);\n          this.suffix = '/' + this.guid;\n          this.displayName = authResult.additionalUserInfo.profile.name.replace(/\\s/g, '');\n\n          if (authResult.additionalUserInfo.isNewUser) {\n            this.newUser = true;\n          } else {\n            this.newUser = false;\n          }\n          if (authResult.user) {\n            this.user = authResult.user;\n          }\n          this.dialogRef.close(LoginDialogComponent);\n          return false;\n        }.bind(this),\n        uiShown: function () {\n          // The widget is rendered.\n          // Hide the loader.\n          document.getElementById('loader').style.display = 'none';\n        }\n      },\n      signInSuccessUrl: '' + location.host + '/#user/' + this.displayName + this.suffix,\n      signInOptions: [\n        firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n        firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n        firebase.auth.EmailAuthProvider.PROVIDER_ID\n      ]\n    };\n    return uiConfig;\n  }\n  resetImages() {\n    this.customImages =\n      [{ 'name': 'uploadCustom1', 'crossOrigin': \"Anonymous\", 'src': 'assets/arabesque_pattern.jpg', 'ready': true, 'fileTooBig': false },\n      { 'name': 'uploadCustom2', 'crossOrigin': \"Anonymous\", 'src': 'assets/kosovo_map.jpg', 'ready': true, 'fileTooBig': false },\n      { 'name': 'uploadCustom3', 'crossOrigin': \"Anonymous\", 'src': 'assets/frieze.jpg', 'ready': true, 'fileTooBig': false },\n      { 'name': 'uploadCustom4', 'crossOrigin': \"Anonymous\", 'src': 'assets/mexico_flag.jpg', 'ready': true, 'fileTooBig': false },\n      { 'name': 'uploadCustom5', 'crossOrigin': \"Anonymous\", 'src': 'assets/van.jpg', 'ready': true, 'fileTooBig': false },\n      { 'name': 'uploadCustom6', 'crossOrigin': \"Anonymous\", 'src': 'assets/trunks.png', 'ready': true, 'fileTooBig': false }\n      ];\n  }\n  customImagesActive = false;\n  toggleImages() {\n    if(!this.customImagesActive) {\n    // this.resetImages();\n    this.setCustomImages();\n    this.customImagesActive = true;\n    } else {\n      this.customImagesActive = false;\n      this.generator.initiatePatterns();\n    }\n  }\n  uploadCustomImage(fileIndex, event) {\n    const fileName = 'uploadCustom' + (fileIndex + 1);\n\n    const replaceObj = this.customImages.find(img => { return img.name === fileName })\n    const replaceIndex = this.customImages.indexOf(replaceObj);\n    this.customImages[replaceIndex].fileTooBig = false;\n\n    if (event.target.files && event.target.files[0]) {\n      this.customImages[replaceIndex].ready = false;\n      let file = event.target.files[0]\n      const url = window.URL.createObjectURL(file);\n      const newImg = new Image();\n      newImg.crossOrigin = \"Anonymous\";\n      newImg.src = url;\n\n      const fileUrl = newImg.src;\n      let trimmedName = this.guid;\n      if (this.user) {\n        this.email = this.user.email;\n        trimmedName = this.email;\n      }\n      // checking if file exceeds storage limit of  1048487 bites ~ 1 MB\n      var fileSize = file.size / 1024 / 1024;\n      if (fileSize > 1) {\n        this.fileInputs._results[fileIndex].value = '';\n\n        this.customImages[replaceIndex].ready = true;\n        this.customImages[replaceIndex].fileTooBig = true;\n\n        alert('File size exceeds 1 MB');\n        setTimeout(() => {\n          this.customImages[replaceIndex].fileTooBig = false;\n        }, 2000);\n        return;\n\n      } else {\n        var storageRef = firebase.storage().ref();\n        storageRef.child(trimmedName + '/customImages/' + fileName).put(file).then(function (snapshot) {\n          console.log('Uploaded a blob or file!', snapshot);\n        });\n      }\n\n      if (replaceIndex >= 0) {\n        this.customImages[replaceIndex].src = fileUrl;\n      } else {\n        this.customImages.push({ 'name': fileName, 'crossOrigin': \"Anonymous\", 'src': fileUrl, 'ready': true, 'fileTooBig': false });\n      }\n      this.setCustomImages();\n      this.fileInputs._results[fileIndex].value = '';\n    }\n  }\n\n  renderImage(index?: number) {\n    // if(this.showFavorites) {\n      if (index !== undefined) {\n        this.currImageIndex = index;\n      } \n    this.generator.renderImage(index, this.showFavorites)\n    // } else {\n\n    // }\n  }\n  updateCurrentIndex(index: number) {\n    this.currImageIndex = index;\n  }\n  setRenderDone(bool: boolean) {\n    this.renderDone = bool;\n    this.ready = bool;\n  }\n  setCustomImages() {\n    this.generator.setCustomImages(true);\n    this.customImagesActive = true;\n  }\n\n  async getRandomArt(clear, recurseStep?) {\n   this.generator.getRandomArt(clear);\n  }\n\n  filterFavorites() {\n    this.favoritesArr = this.savedImageArr.filter(imgObj => {\n      if (imgObj.favorite) {\n        return imgObj;\n      }\n    });\n    this.showFavorites = !this.showFavorites;\n  }\n\n  delete(imageObj, index?: number) {\n\n    if (index === undefined) {\n      index = this.currImageIndex;\n    }\n    if (index < this.currImageIndex) {\n      this.currImageIndex--;\n    }\n    if (this.user) {\n      const trimmedName = this.email;\n      this.database.collection('users/' + trimmedName + '/images').doc(imageObj.name).delete().then(function (docRef) {\n        console.log('Successfully deleted');\n      })\n        .catch(function (error) {\n          console.error('Error adding document: ', error);\n        });\n    }\n\n    this.savedImageArr.splice(index, 1);\n    if (index > this.savedImageArr.length - 1) {\n      index--;\n      this.renderImage(index);\n    }\n\n    if (index === this.currImageIndex || index === 0) {\n      this.renderImage(index);\n    }\n  }\n\n  saveImageFirebase(imageObj) {\n    let trimmedName = this.guid;\n    if (this.user) {\n      this.email = this.user.email;\n      trimmedName = this.email;\n    }\n\n    if (this.utilities.byteCount(imageObj.src) > 1048487) {\n      let tooLong = true;\n      let compSize = 1.0;\n      while (tooLong && (compSize > 0)) {\n        if (this.utilities.byteCount(imageObj.src) > 1048487) {\n          const canvasSrc = this.generator.canvas.toDataURL(\"image/jpeg\", compSize);\n          if (this.utilities.byteCount(canvasSrc) <= 1048487) {\n            imageObj.src = canvasSrc;\n            tooLong = false;\n          } else {\n            imageObj.src = canvasSrc;\n            compSize = compSize - .01;\n          }\n        }\n      }\n    }\n\n    this.database.collection('users/' + trimmedName + '/images').doc(imageObj.name).set({\n      'name': imageObj.name, 'src': imageObj.src, 'favorite': false\n    }).then(function (docRef) {\n      // console.log('Document written with ID: ', docRef.id);\n    }).catch(function (error) {\n      console.error('Error adding document: ', error);\n    });\n  }\n\n  saveToFavorites(imageObj, index) {\n    let val = true;\n    if (this.savedImageArr[index].favorite) {\n      val = false;\n    }\n\n    this.savedImageArr[index].favorite = val;\n\n    let trimmedName = this.guid;\n    if (this.user) {\n      trimmedName = this.email;\n    }\n\n    this.database.collection('users/' + trimmedName + '/images').doc(imageObj.name).set({\n      'name': imageObj.name, 'src': imageObj.src, 'favorite': val\n    }).then(function (docRef) {\n      // console.log('Document written with ID: ', docRef.id);\n    }).catch(function (error) {\n      console.error('Error adding document: ', error);\n    });\n  }\n\n  download(element) {\n    element.href = this.generator.canvas.toDataURL();\n    return;\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppComponent, LoginDialogComponent, DeleteDialogComponent } from './app.component';\nimport {\n  MatButtonModule,\n  MatDialogModule,\n  MatGridListModule,\n  MatIconModule,\n  MatProgressSpinnerModule,\n} from '@angular/material';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { GeneratorComponent } from './generator/generator.component';\nimport 'hammerjs';\nimport { HttpClientModule } from '@angular/common/http';\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginDialogComponent,\n    DeleteDialogComponent,\n    GeneratorComponent\n  ],\n  entryComponents: [\n    LoginDialogComponent,\n    DeleteDialogComponent\n  ],\n  imports: [\n    MatButtonModule,\n    MatDialogModule,\n    BrowserAnimationsModule,\n    MatSlideToggleModule,\n    MatTooltipModule,\n    HttpClientModule,\n    BrowserModule,\n    FlexLayoutModule,\n    MatGridListModule,\n    MatIconModule,\n    MatProgressSpinnerModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \"<div #delete id='delete' class=\\\"margin-auto\\\" style=\\\"z-index: 100\\\">\\n\\n  <button class=\\\"material-text float-right hover\\\" style=\\\"min-width: 0px !important; margin-right: -20px !important; margin-top: -20px !important; opacity: .5\\\"\\n    mat-icon-button [mat-dialog-close]=\\\"false\\\">X</button>\\n  <span>\\n    <h2 class=\\\"material-text\\\" mat-dialog-title> Are you sure you want to delete this image?\\n    </h2>\\n    <button class=\\\"material-text\\\" mat-button [mat-dialog-close]=\\\"true\\\">Yes</button>\\n  </span>\\n</div>\"","module.exports = \"\"","module.exports = \"<div class=\\\"relative\\\" fxLayout=\\\"start start\\\">\\n\\n  <canvas #myCanvasTwo id=\\\"myCanvasTwo\\\" class=\\\"canvas-height\\\">\\n    Your browser does not support the canvas element.\\n  </canvas>\\n\\n  <canvas fxShow=\\\"false\\\" #myCanvas id=\\\"myCanvas\\\" class=\\\"hidden full-height\\\">\\n    Your browser does not support the canvas element.\\n  </canvas>\\n\\n  <div [fxShow]=\\\"renderDone\\\" #loaderCanvas class=\\\"absolute margin-auto loader\\\">\\n  </div>\\n</div>\"","import { Component, OnInit, ViewChild, Output, EventEmitter, Input, ViewChildren } from '@angular/core';\nimport { Utilities } from './utilities';\nimport { HttpClient } from '@angular/common/http';\nimport * as firebase from 'firebase';\n\n@Component({\n  selector: 'generator',\n  templateUrl: './generator.component.html',\n  styleUrls: ['./generator.component.css'],\n  providers: [Utilities]\n\n})\nexport class GeneratorComponent implements OnInit {\n  @ViewChild('loaderCanvas') loader;\n  @Output()\n  saveImageFirebase = new EventEmitter<any>();\n  @Output()\n  renderDoneEmit = new EventEmitter<boolean>();\n\n  @Input() savedImageArr = [];\n  @Input() favoritesArr = [];\n\n  @Input() customImages;\n  @Input() customImagesActive: boolean = false;\n  @Output() updateCurrentIndex = new EventEmitter();\n  aggrObjArea = 0;\n  backgroundShapeArr = ['Rectangle', 'Triangle', 'Circle', 'Line'];\n  canvas;\n  canvasSize = 700;\n  canvasTwo;\n  canvasSizeTwo = 700;\n  colorArr = [];\n  ctx;\n  ctxTwo;\n  @Input() currImageIndex = 0;\n  genTypeArr = [\"noPattern\", \"transPattern\", \"random\"];\n  genType;\n  layerCounter = 0;\n  objNum = 23;\n  patternFill = false;\n  patternSwitch;\n  randomScheme;\n  randomShape;\n  randomColor;\n  randomStrokeOpacity;\n  randomShapeOpacity;\n  shapeArr = ['Rectangle', 'Triangle', 'Circle', 'Line'];\n  smallShapeArr = ['Rectangle', 'Circle'];\n  patternOffset;\n  pattern;\n  patternOne;\n  patternTwo;\n  patternThree;\n  patternFour;\n  patternFive;\n  patternSix;\n  patternBedroom;\n  patternBuddhist;\n  renderDone = false;\n  singleLayer;\n  isTrunks;\n  isFrieze;\n  isFriezeTwo;\n  isArabesque;\n  isBedroom = false;\n  isMexico;\n  patternDatabaseList = []\n  darkDatabaseList = []\n\n  beginPath = false;\n  // feature detection\n  isSafari = false;\n  startingRecurseStep = 0;\n  customImagesLoaded = [];\n  initialImages =\n  [{ 'name': 'uploadCustom1', 'crossOrigin': \"Anonymous\", 'src': 'assets/arabesque_pattern.jpg', 'ready': true, 'fileTooBig': false },\n  { 'name': 'uploadCustom2', 'crossOrigin': \"Anonymous\", 'src': 'assets/kosovo_map.jpg', 'ready': true, 'fileTooBig': false },\n  { 'name': 'uploadCustom3', 'crossOrigin': \"Anonymous\", 'src': 'assets/frieze.jpg', 'ready': true, 'fileTooBig': false },\n  { 'name': 'uploadCustom4', 'crossOrigin': \"Anonymous\", 'src': 'assets/mexico_flag.jpg', 'ready': true, 'fileTooBig': false },\n  { 'name': 'uploadCustom5', 'crossOrigin': \"Anonymous\", 'src': 'assets/van.jpg', 'ready': true, 'fileTooBig': false },\n  { 'name': 'uploadCustom6', 'crossOrigin': \"Anonymous\", 'src': 'assets/trunks.png', 'ready': true, 'fileTooBig': false }\n  ];\n  constructor(public http: HttpClient, public utilities: Utilities) {\n    this.utilities = utilities;\n  }\n\n  ngOnInit() {\n    // this.ready = false;\n    this.renderDone = false;\n    this.initiatePatterns();\n    this.isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n    this.calculateCanvasSize();\n    this.getDarkPatterns();\n  }\nartImagesSubscription;\n  getDarkPatterns() {\n    var storageRef = firebase.storage().ref();\n\n    if (this.darkDatabaseList.length === 0 || this.patternDatabaseList.length === 0) {\n      return new Promise(resolve => {\n        if(!this.artImagesSubscription) {}\n        this.artImagesSubscription = this.http.get('http://localhost:4201/artImages').subscribe(function (this, res: any) {\n          res.forEach(function (this, item) {\n            if (item[\"metadata\"][\"name\"].indexOf('dark') > -1) {\n              storageRef.child(item[\"metadata\"][\"name\"]).getDownloadURL().then(function (this, url) {\n                const darkImage = new Image();\n                darkImage.src = url;\n                darkImage.crossOrigin = \"Anonymous\";\n                this.darkDatabaseList.push(darkImage)\n              }.bind(this));\n            } else {\n              storageRef.child(item[\"metadata\"][\"name\"]).getDownloadURL().then(function (this, url) {\n                const darkImage = new Image();\n                darkImage.src = url;\n                darkImage.crossOrigin = \"Anonymous\";\n                this.patternDatabaseList.push(darkImage)\n              }.bind(this));\n            }\n          }.bind(this));\n          // this.patternDatabaseList = res.map(function (item) { return item[\"metadata\"][\"name\"]; });\n          resolve();\n\n        }.bind(this))\n        // });\n\n      });\n    }\n    return;\n  }\n\n  initiatePatterns() {\n    this.patternOne = new Image();\n    this.patternOne.crossOrigin = \"Anonymous\";\n\n    this.patternTwo = new Image();\n    this.patternTwo.crossOrigin = \"Anonymous\";\n\n    this.patternThree = new Image();\n    this.patternThree.crossOrigin = \"Anonymous\";\n\n    this.patternFour = new Image();\n    this.patternFour.crossOrigin = \"Anonymous\";\n\n    this.patternBuddhist = new Image();\n    this.patternBuddhist.crossOrigin = \"Anonymous\";\n\n    this.patternBedroom = new Image();\n    this.patternBedroom.crossOrigin = \"Anonymous\";\n\n    this.patternFive = new Image();\n    this.patternFive.crossOrigin = \"Anonymous\";\n\n    this.patternSix = new Image();\n    this.patternSix.crossOrigin = \"Anonymous\";\n\n    this.patternBedroom.src = 'assets/haystacks.jpg';\n\n    this.patternOne.src = this.initialImages[0].src\n    this.patternOne.crossOrigin = \"Anonymous\";\n    this.patternOne.onload = function () {\n      const pattern = this.ctx.createPattern(this.patternOne, 'repeat');\n      this.ctx.fillStyle = pattern;\n      // this.customImages[0].ready = true;\n      // this.customImagesLoaded.push(this.patternOne);\n\n      this.patternTwo.src = this.initialImages[1].src;\n      this.patternTwo.onload = function () {\n        const pattern = this.ctx.createPattern(this.patternTwo, 'repeat');\n        this.ctx.fillStyle = pattern;\n        // this.customImages[1].ready = true;\n        // this.customImagesLoaded.push(this.patternTwo);\n        this.patternThree.src = this.initialImages[2].src;\n        this.patternThree.onload = function () {\n          const pattern = this.ctx.createPattern(this.patternThree, 'repeat');\n          this.ctx.fillStyle = pattern;\n          // this.customImages[2].ready = true;\n          // this.customImagesLoaded.push(this.patternThree);\n\n          this.patternFour.src = this.initialImages[3].src;\n          this.patternFour.onload = function () {\n            const pattern = this.ctx.createPattern(this.patternFour, 'repeat');\n            this.ctx.fillStyle = pattern;\n            // this.customImages[3].ready = true;\n            // this.customImagesLoaded.push(this.patternFour);\n            this.patternFive.src = this.initialImages[4].src;\n            this.patternFive.onload = function () {\n              const pattern = this.ctx.createPattern(this.patternFive, 'repeat');\n              this.ctx.fillStyle = pattern;\n              // this.customImages[4].ready = true;\n              // this.customImagesLoaded.push(this.patternFive);\n              this.patternSix.src = this.initialImages[5].src;\n              this.patternSix.onload = async function () {\n                const pattern = this.ctx.createPattern(this.patternSix, 'repeat');\n                this.ctx.fillStyle = pattern;\n                // this.customImages[5].ready = true;\n                // this.customImagesLoaded.push(this.patternSix);\n                await this.getRandomArt(true);\n              }.bind(this);\n            }.bind(this);\n          }.bind(this);\n        }.bind(this);\n\n      }.bind(this);\n    }.bind(this);\n  }\n\n  calculateCanvasSize() {\n    this.canvas = <HTMLCanvasElement>document.getElementById(\"myCanvas\");\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.canvasSize = this.canvas.clientHeight;\n    this.ctx.canvas.width = this.canvasSize;\n    this.ctx.canvas.height = this.canvasSize;\n\n    this.canvasTwo = <HTMLCanvasElement>document.getElementById(\"myCanvasTwo\");\n    this.ctxTwo = this.canvasTwo.getContext(\"2d\");\n    this.canvasSizeTwo = this.canvasTwo.clientHeight;\n    this.ctxTwo.canvas.width = this.canvasSizeTwo;\n    this.ctxTwo.canvas.height = this.canvasSizeTwo;\n  }\n  offset_x = 0;\n  offset_y = 0;\n\n  async getRandomArt(clear, recurseStep?) {\n    // hide favorites because we're about to switch to savedimagearr\n    // hiding stuff since a new image is being drawn]\n\n    this.loader.nativeElement.style.visibility = \"visible\";\n    this.singleLayer = false;\n\n    //these values are related to what the art will look like \n    let recurse = false;\n    this.objNum = Math.floor(Math.random() * 23) + 10;\n    this.patternFill = this.utilities.randomlyChooseTrueOrFalse();\n\n    this.isTrunks = false;\n    this.isArabesque = false;\n    this.isMexico = false;\n    this.isFrieze = false;\n    this.isBedroom = false;\n    this.isFriezeTwo = false;\n    if(this.customImagesActive) {\n    this.patternOne = this.customImagesLoaded[0];\n    this.patternTwo = this.customImagesLoaded[1];\n    this.patternThree = this.customImagesLoaded[2];\n    this.patternFour = this.customImagesLoaded[3];\n    this.patternFive = this.customImagesLoaded[4];\n    this.patternSix = this.customImagesLoaded[5];\n    }\n    if (recurseStep === undefined) {\n      this.genType = this.genTypeArr[Math.floor(Math.random() * this.genTypeArr.length)];\n      this.patternFill = this.utilities.randomlyChooseTrueOrFalse();\n\n      // if no recurse, this means this is a new piece, not just a layer, so clear and calculate recurse chance\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n      this.ctx.fillStyle = 'white';\n      this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n      recurse = this.utilities.randomlyChooseTrueOrFalse();\n      if (!recurse) {\n        this.singleLayer = true;\n        if (this.genType === 'noPattern' || (this.genType === 'transPattern' && this.singleLayer)) {\n          this.isTrunks = this.utilities.randomlyChooseTrueOrFalseThird();\n          if (!this.isTrunks) {\n            if (this.utilities.randomlyChooseTrueOrFalseThird) {\n              this.isArabesque = false;\n              this.isFrieze = true;\n              this.isFriezeTwo = false;\n              this.isMexico = false;\n              if (this.utilities.randomlyChooseTrueOrFalseThird) {\n                this.isFriezeTwo = true;\n                this.isFrieze = false;\n              }\n\n            } else {\n              this.isFrieze = false;\n              this.isFriezeTwo = false;\n              this.isArabesque = true;\n              this.isMexico = false;\n              if (this.utilities.randomlyChooseTrueOrFalseThird) {\n                this.isFriezeTwo = true;\n                this.isArabesque = false;\n              }\n            }\n          } else {\n            this.isArabesque = false;\n            this.isFrieze = false;\n            this.isFriezeTwo = false;\n            this.isMexico = false;\n          }\n          this.isArabesque = false;\n          this.isFrieze = false;\n          this.isFriezeTwo = false;\n          this.isMexico = false;\n          this.isTrunks = false;\n          const solidSwitch = Math.floor(Math.random() * 7) + 1;\n          if (solidSwitch === 1) {\n            this.isArabesque = true;\n          } else if (solidSwitch === 2) {\n            this.isArabesque = true;\n          } else if (solidSwitch === 3) {\n            this.isTrunks = false;\n          } else if (solidSwitch === 4) {\n            this.isFrieze = true;\n          } else if (solidSwitch === 5) {\n            this.isFrieze = true;\n          } else if (solidSwitch === 6) {\n            this.isFriezeTwo = true;\n          }\n          else {\n            this.isMexico = true;\n          }\n        }\n        this.beginPath = false;\n        const maxDarkIndex = this.darkDatabaseList.length - 1;\n\n        var one = Math.floor(Math.random() * maxDarkIndex);\n        var two = Math.floor(Math.random() * maxDarkIndex);\n        var three = Math.floor(Math.random() * maxDarkIndex);\n        var four = Math.floor(Math.random() * maxDarkIndex);\n\n        var five = Math.floor(Math.random() * maxDarkIndex);\n        if (!this.customImagesActive && this.darkDatabaseList.length >= 6) {\n          const darkOne = this.darkDatabaseList[one];\n          this.patternSix = darkOne;\n          const darkThree = this.darkDatabaseList[three];\n          this.patternThree = darkThree;\n          const darkFour = this.darkDatabaseList[four];\n          this.patternFour = darkFour;\n          const darkFive = this.darkDatabaseList[five];\n          this.getRandomArtAlg(clear, recurse, recurseStep);\n\n\n        } else {\n          this.getRandomArtAlg(clear, recurse, recurseStep);\n        }\n      }\n    } else {\n      // if recurseStep is defined then we know\n      recurse = true;\n    }\n\n    if (recurse) {\n      if (!this.customImagesActive && !this.utilities.randomlyChooseTrueOrFalseThirdReal()) {\n        const maxDarkIndex = this.patternDatabaseList.length - 1;\n\n        var one = Math.floor(Math.random() * maxDarkIndex);\n        var two = Math.floor(Math.random() * maxDarkIndex);\n        var three = Math.floor(Math.random() * maxDarkIndex);\n        var four = Math.floor(Math.random() * maxDarkIndex);\n\n        var five = Math.floor(Math.random() * maxDarkIndex);\n        if (this.patternDatabaseList.length >= 6) {\n          const darkOne = this.patternDatabaseList[one];\n          this.patternSix = darkOne;\n          const darkThree = this.patternDatabaseList[three];\n          this.patternThree = darkThree;\n          const darkFour = this.patternDatabaseList[four];\n          this.patternFour = darkFour;\n          const darkFive = this.patternDatabaseList[five];\n          this.patternFive = darkFive;\n        }\n      }\n      if (this.genType === 'noPattern' || (this.genType === 'transPattern' && this.singleLayer)) {\n        this.isTrunks = this.utilities.randomlyChooseTrueOrFalseThird();\n        if (!this.isTrunks) {\n          if (this.utilities.randomlyChooseTrueOrFalseThird) {\n            this.isArabesque = false;\n            this.isFrieze = true;\n            this.isFriezeTwo = false;\n            this.isMexico = false;\n            if (this.utilities.randomlyChooseTrueOrFalseThird) {\n              this.isFriezeTwo = true;\n              this.isFrieze = false;\n            }\n\n          } else {\n            this.isFrieze = false;\n            this.isFriezeTwo = false;\n            this.isArabesque = true;\n            this.isMexico = false;\n            if (this.utilities.randomlyChooseTrueOrFalseThird) {\n              this.isFriezeTwo = true;\n              this.isArabesque = false;\n            }\n          }\n        } else {\n          this.isArabesque = false;\n          this.isFrieze = false;\n          this.isFriezeTwo = false;\n          this.isMexico = false;\n        }\n        this.isArabesque = false;\n        this.isFrieze = false;\n        this.isFriezeTwo = false;\n        this.isMexico = false;\n        this.isTrunks = false;\n        const solidSwitch = Math.floor(Math.random() * 7) + 1;\n        if (solidSwitch === 1) {\n          this.isArabesque = true;\n        } else if (solidSwitch === 2) {\n          this.isArabesque = true;\n        } else if (solidSwitch === 3) {\n          this.isTrunks = false;\n        } else if (solidSwitch === 4) {\n          this.isFrieze = true;\n        } else if (solidSwitch === 5) {\n          this.isFrieze = true;\n        } else if (solidSwitch === 6) {\n          this.isFriezeTwo = true;\n        }\n        else {\n          this.isMexico = true;\n        }\n      }\n      // because it's fast - we only care about making the load if it's new AND layers\n      if (recurse && recurseStep === undefined) {\n\n        recurseStep = Math.floor(Math.random() * 9) + 4;\n        this.startingRecurseStep = recurseStep;\n        if (recurseStep > 18) {\n          this.largeRecurseStep = true;\n        } else {\n          this.largeRecurseStep = false;\n        }\n        var img = new Image();\n        img.src = this.canvas.toDataURL();\n        img.onload = function () {\n          this.ctx.drawImage(img, 0, 0, this.canvasSize, this.canvasSize, 0, 0, this.canvasSize, this.canvasSize);\n          this.getRandomArtAlg(clear, recurse, recurseStep);\n        }.bind(this);\n      } else {\n        this.getRandomArtAlg(clear, recurse, recurseStep);\n      }\n    }\n    // }\n  }\n\n  largeRecurseStep = false;\n  forceBeginPath = false;\n  getRandomArtAlg(clear, recurse, recurseStep) {\n    this.patternFillSingleBegun = false;\n\n    this.beginPath = this.utilities.randomlyChooseTrueOrFalse();\n    this.randomScheme = \"Random\";\n    this.colorArr = this.getRandomColorArr();\n    let rand = 1;\n    this.patternOffset = 0;\n\n    // first layer of small objects;\n    this.resetForNewLayer();\n    this.getFirstSmallLayer();\n    this.resetForNewLayer();\n\n    // layer of transparent objects\n    let norm = true;\n    rand = Math.floor(Math.random() * 3) + 1;\n    if (rand === 2) {\n      norm = false;\n    }\n\n    let trapTrans = 2;\n    if (rand === 2) {\n      trapTrans = this.utilities.randomlyChooseOneOrTwo();\n    }\n\n    let layerNum = 20;\n    if (norm || trapTrans === 1) {\n      if (trapTrans === 1) {\n        layerNum = 10;\n        this.backgroundShapeArr = ['Rectangle', 'Circle', 'Line'];\n      } else {\n        this.backgroundShapeArr = ['Rectangle', 'Triangle', 'Circle', 'Line'];\n      }\n      while (this.layerCounter < layerNum) {\n        this.randomColor = this.colorArr[Math.floor(Math.random() * this.colorArr.length)];\n        this.randomStrokeOpacity = Math.random() * 1;\n        this.randomShapeOpacity = Math.random() * 1;\n        var randomShape = this.backgroundShapeArr[Math.floor(Math.random() * this.shapeArr.length)];\n        var stroke = this.getRandomRgb();\n        if (this.randomScheme === 'Complementary') {\n          var complStroke = this.colorArr[Math.floor(Math.random() * this.colorArr.length)];\n          this.ctx.strokeStyle = complStroke.substring(0, complStroke.length - 1) + ',' + this.randomStrokeOpacity + \")\";\n        } else if (this.randomScheme !== 'Monochromatic') {\n          this.ctx.strokeStyle = 'rgb(' + stroke['r'] + ',' + stroke['g'] + ',' + stroke['b'] + ')';\n        } else {\n          this.ctx.strokeStyle = 'rgb(' + stroke['r'] + ',' + stroke['g'] + ',' + stroke['b'] + ')';\n        }\n        rand = this.utilities.randomlyChooseOneOrTwo();\n        if (rand === 1) {\n          this.ctx.strokeStyle = 'black';\n        }\n\n        // if (!this.isSafari) {\n        this.randomColor = this.randomColor.substring(0, this.randomColor.length - 1) + ',' + this.randomShapeOpacity + \")\";\n        // }\n        // this.ctx.globalAlpha = (Math.random() * .4);\n       \n        this.ctx.globalAlpha = .4 - (layerNum/this.layerCounter * .01);\n        console.log('trans global alpha', this.ctx.globalAlpha);\n        this.ctx.fillStyle = this.randomColor;\n\n        this.patternFill = this.utilities.randomlyChooseTrueOrFalse();\n        this.ctx.lineWidth = Math.random() * 10;\n        this.drawShape(randomShape);\n        this.layerCounter++;\n      }\n    }\n    this.resetForNewLayer();\n    // layer of main shapes\n    let objNum = this.objNum;\n    if (this.genType === 'transPattern') {\n      objNum = Math.floor(Math.random() * 23) + 19;\n    }\n    this.getMainLayer(objNum, norm, rand, trapTrans);\n\n    this.resetForNewLayer();\n\n    // second small layer\n    this.getSecondSmallLayer(norm);\n    this.resetForNewLayer();\n\n    // if(!this.beginPath) {\n    // this.beginPath = true;\n    // this.getSecondSmallLayer(norm);\n    // this.resetForNewLayer();\n\n    // }\n\n    // if (this.singleLayer && ((this.genType === \"noPattern\" || this.genType === \"random\"))) {\n    //   this.forceBeginPath = true;\n    //   this.getSecondSmallLayer(true);\n    //   this.resetForNewLayer();\n    //   this.forceBeginPath = false;\n    // }\n    if (this.singleLayer) {\n      this.forceBeginPath = true;\n      this.getSecondSmallLayer(true);\n      this.resetForNewLayer();\n      this.forceBeginPath = false;\n    }\n\n    if (recurse && recurseStep && recurseStep > 1) {\n      recurseStep--;\n      this.getRandomArt(clear, recurseStep);\n    } else {\n      this.saveCurrentArt(clear);\n    }\n  }\n  getSecondSmallLayer(norm) {\n    let count = 25;\n    if (norm) {\n      count = 45;\n    }\n    while (this.layerCounter <= count) {\n      this.randomColor = this.colorArr[Math.floor(Math.random() * this.colorArr.length)];\n      this.randomStrokeOpacity = Math.random() * 1;\n      this.randomShapeOpacity = Math.random() * .5;\n      const randomShape = this.smallShapeArr[Math.floor(Math.random() * this.shapeArr.length)];\n      const stroke = this.getRandomRgb();\n\n      this.ctx.strokeStyle = 'rgb(' + stroke['r'] + ',' + stroke['g'] + ',' + stroke['b'] + ', 1)';\n      const blackStroke = this.utilities.randomlyChooseTrueOrFalse();\n      if (blackStroke) {\n        this.ctx.strokeStyle = 'black';\n      }\n      this.randomColor = this.randomColor.substring(0, this.randomColor.length - 1) + ',' + this.randomShapeOpacity + \")\";\n\n      // Safari feature detection\n      // if (!this.isSafari) {\n      // this.ctx.globalAlpha = 1;\n      // this.randomColor = this.randomColor.substring(0, this.randomColor.length - 1) + ',' + this.randomShapeOpacity + \")\";\n      // const rand = Math.floor(Math.random() * 2) + 1;\n      // if (rand === 1) {\n      // this.ctx.globalAlpha = this.randomShapeOpacity;\n      // }\n      // } else {\n      // this.ctx.globalAlpha = this.randomShapeOpacity;\n      // }\n      this.ctx.fillStyle = this.randomColor;\n      this.patternFill = this.utilities.randomlyChooseTrueOrFalse();\n      this.ctx.lineWidth = Math.random() * 10;\n      this.drawShape(randomShape, true);\n      this.layerCounter++;\n    }\n  }\n  getFirstSmallLayer() {\n    while (this.layerCounter <= 25) {\n      this.randomColor = this.colorArr[Math.floor(Math.random() * this.colorArr.length)];\n      this.randomStrokeOpacity = Math.random();\n      this.randomShapeOpacity = Math.random();\n      var randomShape = this.smallShapeArr[Math.floor(Math.random() * this.shapeArr.length)];\n      var stroke = this.getRandomRgb();\n      if (this.randomScheme === 'Complementary') {\n        var complStroke = this.colorArr[Math.floor(Math.random() * this.colorArr.length)];\n        this.ctx.strokeStyle = complStroke.substring(0, complStroke.length - 1) + ',' + this.randomStrokeOpacity + \")\";\n      } else if (this.randomScheme !== 'Monochromatic') {\n        this.ctx.strokeStyle = 'rgb(' + stroke['r'] + ',' + stroke['g'] + ',' + stroke['b'] + ', 1)';\n      } else {\n        this.ctx.strokeStyle = 'rgb(' + stroke['r'] + ',' + stroke['g'] + ',' + stroke['b'] + ', 1)';\n      }\n      let rand = this.utilities.randomlyChooseOneOrTwo();\n      if (rand === 1) {\n        this.ctx.strokeStyle = 'black';\n      }\n      if (!this.isSafari) {\n        this.ctx.globalAlpha = 1;\n        this.randomColor = this.randomColor.substring(0, this.randomColor.length - 1) + ',' + this.randomShapeOpacity + \")\";\n        rand = Math.floor(Math.random() * 2) + 1;\n        if (rand === 1) {\n          this.ctx.globalAlpha = this.randomShapeOpacity;\n        }\n      } else {\n        this.ctx.globalAlpha = this.randomShapeOpacity;\n      }\n      this.ctx.fillStyle = this.randomColor;\n      this.patternFill = this.utilities.randomlyChooseTrueOrFalse();\n      this.ctx.lineWidth = Math.random() * 10;\n      this.drawShape(randomShape, true);\n      this.layerCounter++;\n      // this.ctx.globalAlpha = .1;\n\n    }\n  }\n  resetForNewLayer() {\n    this.layerCounter = 0;\n    this.ctx.globalAlpha = 1;\n    this.aggrObjArea = 0;\n    this.shapeArr = ['Rectangle', 'Triangle', 'Circle', 'Line'];\n  }\n\n  getMainLayer(objNum, norm, rand, trapTrans) {\n    this.shapeArr = ['Rectangle', 'Triangle', 'Line'];\n\n    if (this.genType !== 'random') {\n      this.patternFill = false;\n    } else {\n      this.patternFill = this.utilities.randomlyChooseTrueOrFalse();\n      if (this.patternFill === false) {\n        this.patternFill = this.utilities.randomlyChooseTrueOrFalse();\n      }\n    }\n\n    norm = false;\n    if (!norm) {\n      objNum = Math.floor(Math.random() * 1) + 5;\n      this.shapeArr = ['Trapezoid', 'Line'];\n      if (this.singleLayer) {\n        this.beginPath = false;\n        this.isTrunks = this.utilities.randomlyChooseTrueOrFalse();\n        if (this.isTrunks) {\n          this.isArabesque = false;\n          this.isFrieze = false;\n          this.isFriezeTwo = false;\n          this.patternFill = true;\n          this.isMexico = this.utilities.randomlyChooseTrueOrFalse();\n          if (this.isMexico) {\n            this.isTrunks = false;\n          }\n        } else {\n          this.patternFill = false;\n        }\n\n      }\n    }\n    while (this.layerCounter < objNum) {\n      this.randomColor = this.colorArr[Math.floor(Math.random() * this.colorArr.length)];\n      this.randomShapeOpacity = Math.random();\n      if (this.randomShapeOpacity < 0) {\n        this.randomShapeOpacity = 0;\n      }\n      if (this.layerCounter === (objNum - 1) || this.layerCounter === (objNum)) {\n        this.randomShapeOpacity = 0;\n        this.patternFill = false;\n      }\n      if (this.layerCounter === (objNum - 2)) {\n        this.randomShapeOpacity = .1;\n      }\n\n      if(this.singleLayer) {\n      this.ctx.globalAlpha = this.layerCounter/objNum + .4;\n      } else {\n        this.ctx.globalAlpha = 1;\n      }\n      console.log('main global alpha', this.ctx.globalAlpha);\n\n      var randomShape = this.shapeArr[Math.floor(Math.random() * this.shapeArr.length)];\n      // if (this.singleLayer && randomShape !== 'Line') {\n      //   var randomShape = this.shapeArr[Math.floor(Math.random() * this.shapeArr.length)];\n      // }\n      var stroke = this.getRandomRgb();\n\n      this.ctx.strokeStyle = 'rgb(' + stroke['r'] + ',' + stroke['g'] + ',' + stroke['b'] + ')';\n\n\n      rand = Math.floor(Math.random() * 2) + 1;\n      if (rand === 1) {\n        this.ctx.strokeStyle = 'black';\n      }\n\n      this.randomColor = this.randomColor.substring(0, this.randomColor.length - 1) + ',' + this.randomShapeOpacity + \")\";\n\n      this.ctx.fillStyle = this.randomColor;\n      // default is middle\n      let newLineWidth = Math.random() * 5 + 1;\n      if (this.layerCounter < (objNum / 4) || (this.layerCounter > (objNum * .5) && this.layerCounter < (objNum * .6))) {\n        newLineWidth = Math.random() * 20 + 16;\n      }\n\n      this.ctx.lineWidth = newLineWidth;\n      this.drawShape(randomShape, false, true);\n      this.layerCounter++;\n    }\n  }\n  patternFillSingleBegun = false;\n  transform = false;\n  drawShape(shape, small?, main?) {\n    var offset_x = 0;\n    var offset_y = 0;\n    var xPos = Math.random() * this.canvasSize;\n    var yPos = Math.random() * this.canvasSize;\n    var height = Math.random() * this.canvasSize;\n    var width = Math.random() * this.canvasSize;\n    let currObjArea = height * width;\n\n    this.patternSwitch = Math.floor(Math.random() * 8) + 1;\n    rand = this.utilities.randomlyChooseOneOrTwo();\n    if (this.genType === \"noPattern\" && main) {\n      this.patternFill = true;\n    }\n    // if (this.largeRecurseStep) {\n    //   this.patternFill = false;\n    // }\n    if(!this.singleLayer && main && !this.utilities.randomlyChooseTrueOrFalse()) {\n      this.transform = true;\n\n      //  this.ctx.save();\n      if(this.utilities.randomlyChooseTrueOrFalse) {\n\n    // this.ctx.setTransform(1, .6, .2, 1, 0, 0);\n      } else {\n        // this.ctx.setTransform(1, .2, .6, 1, 0, 0);\n\n      }\n    } else {\n      this.transform = false;\n    }\n    if (this.patternFill) {\n\n      if (!this.patternFillSingleBegun && (this.isFrieze || this.isFriezeTwo || this.isTrunks || this.isArabesque || this.isMexico || this.isBedroom)) {\n        this.patternFillSingleBegun = true;\n      } else {\n        offset_x = Math.floor(Math.random() * this.canvasSize / 2.5) - this.canvasSize / 2.5;\n        offset_y = Math.floor(Math.random() * this.canvasSize / 2.5) - this.canvasSize / 2.5;\n        this.ctx.translate(offset_x, offset_y);\n      }\n      if (this.patternSwitch === 1) {\n        this.ctx.fillStyle = this.ctx.createPattern(this.patternThree, 'repeat');\n      } else if (this.patternSwitch === 2) {\n        if (rand === 1) {\n          this.ctx.fillStyle = this.ctx.createPattern(this.patternTwo, 'repeat');\n        } else if (rand === 2) {\n          this.ctx.fillStyle = this.ctx.createPattern(this.patternFour, 'no-repeat');\n        }\n      } else if (this.patternSwitch === 3) {\n        this.ctx.fillStyle = this.ctx.createPattern(this.patternSix, 'repeat');\n\n      } else if (this.patternSwitch === 4) {\n        if (rand === 1) {\n\n          this.ctx.fillStyle = this.ctx.createPattern(this.patternFour, 'no-repeat');\n\n        } else if (rand === 2) {\n          this.ctx.fillStyle = this.ctx.createPattern(this.patternSix, 'repeat');\n        }\n      } else if (this.patternSwitch === 5) {\n        this.ctx.fillStyle = this.ctx.createPattern(this.patternTwo, 'repeat');\n      } else if (this.patternSwitch === 6) {\n        this.ctx.fillStyle = this.ctx.createPattern(this.patternOne, 'repeat');\n      } else if (this.patternSwitch === 7) {\n        this.ctx.fillStyle = this.ctx.createPattern(this.patternFive, 'repeat');\n      } else {\n        this.ctx.fillStyle = this.ctx.createPattern(this.patternFour, 'no-repeat');\n      }\n      if (this.isFrieze && main) {\n        this.ctx.fillStyle = this.ctx.createPattern(this.patternThree, 'repeat');\n      }\n      if (this.isFriezeTwo && main) {\n        this.ctx.fillStyle = this.ctx.createPattern(this.patternFive, 'repeat');\n      }\n      if (this.isTrunks && main) {\n        this.ctx.fillStyle = this.ctx.createPattern(this.patternSix, 'repeat');\n\n      }\n      if (this.isArabesque && main) {\n        this.ctx.fillStyle = this.ctx.createPattern(this.patternOne, 'repeat');\n      }\n\n      if (this.isMexico && main) {\n        this.ctx.fillStyle = this.ctx.createPattern(this.patternFour, 'no-repeat');\n      }\n\n      if (this.isBedroom && main) {\n        this.ctx.fillStyle = this.ctx.createPattern(this.patternBedroom, 'repeat');\n      }\n    }\n\n    rand = Math.floor(Math.random() * 100) + 1;\n\n    if (small || (this.aggrObjArea + currObjArea + 250) >= (Math.pow(this.canvasSize, 2))) {\n      height = Math.random() * this.canvasSize / 25;\n      width = Math.random() * this.canvasSize / 25;\n      currObjArea = height * width;\n    }\n\n    switch (shape) {\n      case 'Rectangle':\n        this.ctx.fillRect(xPos, yPos, width, height);\n        this.ctx.strokeRect(xPos, yPos, width, height);\n        break;\n      case 'Trapezoid':\n        // omitting begin path triggers the wireframe look\n        if (!this.forceBeginPath && this.singleLayer) {\n        } else {\n          this.ctx.beginPath();\n        }\n\n        if (!this.utilities.randomlyChooseTrueOrFalseThird()) {\n          if (!this.utilities.randomlyChooseTrueOrFalseThird()) {\n            if (!this.utilities.randomlyChooseTrueOrFalseThird()) {\n\n\n              // this.ctx.lineWidth = 2;\n            }\n          }\n        }\n\n        let rand1 = Math.random() * this.canvasSize;\n        const y1 = Math.random() * this.canvasSize;\n        //first point\n        this.ctx.moveTo(rand1, y1);\n        let rand2 = Math.random() * this.canvasSize;\n\n        //second point completes first side\n        let y2 = Math.random() * this.canvasSize;\n        this.ctx.lineTo(rand2, y2);\n        let rand3 = Math.random() * this.canvasSize;\n\n        let y3 = Math.random() * this.canvasSize;\n\n        // third point completes second side\n        this.ctx.lineTo(rand3, y3);\n        // fourth point -- cannot cross first line\n        //logic here such \n        const heightLow = Math.max(y1, y3);\n        const heightHigh = Math.min(y1, y3);\n\n        const leftMost = Math.min(rand1, rand3);\n        const rightMost = Math.max(rand1, rand3);\n        const addToLeftMost = Math.random() * (rightMost - leftMost);\n        let rand4 = leftMost + addToLeftMost;\n        let y4 = heightLow - (Math.random() * (heightLow - heightHigh));\n\n        if (rand1 === leftMost && y1 === heightHigh && rand4 < rand2) {\n          y4 = y1 + Math.random() * this.canvasSize;\n        }\n        this.ctx.lineTo(rand4, y4);\n        this.ctx.fill();\n        this.ctx.lineTo(rand1, y1);\n        this.ctx.stroke();\n        currObjArea = this.calcPolygonArea([{ x: rand1, y: y1 }, { x: rand2, y: rand1 }, { x: rand3, y: rand2 }, { x: rand4, y: y2 }]);\n\n        break;\n      case 'Triangle':\n\n        if (!this.forceBeginPath && this.singleLayer) {\n        } else {\n          this.ctx.beginPath();\n        }\n        this.ctx.setLineDash([]);\n\n        if (!this.utilities.randomlyChooseTrueOrFalseThird()) {\n          if (!this.utilities.randomlyChooseTrueOrFalseThird()) {\n            if (!this.utilities.randomlyChooseTrueOrFalseThird()) {\n\n\n              // this.ctx.lineWidth = 2;\n            }\n          }\n        }\n        rand1 = xPos;\n        rand2 = yPos;\n        const ty1 = Math.random() * this.canvasSize;\n        const ty2 = Math.random() * this.canvasSize;\n\n        // vertex one\n        this.ctx.moveTo(rand1, ty1);\n\n       // vertex two\n        this.ctx.lineTo(rand2, rand1);\n        this.ctx.stroke();\n       \n        // vertex three\n        this.ctx.lineTo(rand2, ty2);\n        this.ctx.stroke();\n\n        this.ctx.lineTo(rand1, ty1);\n\n\n        // const set y diff\n\n       const yDiff = 50;\n       this.ctx.lineTo(rand1, ty1-yDiff);\n       this.ctx.stroke();\n\n       this.ctx.lineTo(rand2, rand1-yDiff);\n       this.ctx.stroke();\n\n       this.ctx.lineTo(rand2, rand1);\n       this.ctx.moveTo(rand2, rand1-yDiff);\n\n       this.ctx.stroke();\n\n       this.ctx.lineTo(rand2, ty2-yDiff);\n       this.ctx.stroke();\n\n       this.ctx.lineTo(rand2, ty2);\n       this.ctx.moveTo(rand2, ty2-yDiff);\n       this.ctx.stroke();\n\n       this.ctx.lineTo(rand1, ty1-yDiff);\n\n       this.ctx.stroke();\n\n        this.ctx.fill();\n        currObjArea = this.calcPolygonArea([{ x: rand1, y: ty1 }, { x: rand2, y: rand1 }, { x: rand2, y: ty2 }]);\n        break;\n      case 'Line':\n        // this.ctx.beginPath();\n        if (!this.utilities.randomlyChooseTrueOrFalseThird()) {\n          if (!this.utilities.randomlyChooseTrueOrFalseThird()) {\n            if (!this.utilities.randomlyChooseTrueOrFalseThird()) {\n\n              // this.ctx.setLineDash([5, 15]);\n              // this.ctx.lineWidth = 2;\n            }\n          }\n        }\n        rand1 = Math.random() * this.canvasSize;\n        var rand = Math.floor(Math.random() * 2) + 1;\n        if (rand === 1) {\n          rand2 = rand1 + 15;\n        } else {\n          rand2 = rand1 - 15;\n        }\n        let ly1 = Math.random() * this.canvasSize;\n        let ly2 = Math.random() * this.canvasSize;\n        this.ctx.moveTo(rand1, ly1);\n        this.ctx.lineTo(rand2, rand1);\n        this.ctx.lineTo(rand2, ly2);\n        this.ctx.stroke();\n        // pythagorean theorem\n        currObjArea = this.ctx.lineWidth * (this.getDistance(rand1, ly1, rand2, rand1) + this.getDistance(rand2, rand1, rand2, ly2));\n        break;\n      case 'Circle':\n        var radius = width / 2;\n        if (!this.forceBeginPath && (this.singleLayer)) {\n        } else {\n          this.ctx.beginPath();\n        }\n\n        this.ctx.arc(xPos, yPos, radius, 0, 2 * Math.PI, false);\n        this.ctx.fill();\n        this.ctx.stroke();\n\n        currObjArea = Math.PI * Math.pow(radius, 2);\n        // get better with calculating for circles\n        break;\n    }\n    if (this.patternFill) {\n      if (!this.patternFillSingleBegun && (this.isFrieze || this.isFriezeTwo || this.isTrunks || this.isArabesque || this.isMexico || this.isBedroom)) {\n\n      } else {\n        this.ctx.translate(-offset_x, -offset_y);\n      }\n    }\n    this.ctx.setLineDash([]);\n    this.aggrObjArea += currObjArea;\n    // if(this.transform) {\n\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n// this.ctx.restore();    // }\n  }\n\n  renderImage(index?: number, favorites?: boolean) {\n    if (index !== undefined) {\n      this.currImageIndex = index;\n    }\n\n    var img = new Image();\n    let imageArr = this.savedImageArr;\n    if (favorites) {\n      imageArr = this.favoritesArr;\n    }\n    if (imageArr[this.currImageIndex]) {\n      img.src = imageArr[this.currImageIndex].src;\n    } else {\n      img.src = this.canvas.toDataURL();\n    }\n\n    img.onload = function () {\n      this.ctx.drawImage(img, 0, 0, this.canvasSize, this.canvasSize, 0, 0, this.canvasSize, this.canvasSize);\n      this.drawImageScaled(img, this.ctxTwo)\n      this.renderDone = true;\n      this.renderDoneEmit.emit(true);\n      this.loader.nativeElement.style.visibility = \"hidden\";\n      if (index === undefined) {\n        this.updateCurrentIndex.emit(this.savedImageArr.length - 1);\n      }\n    }.bind(this);\n  }\n  drawImageScaled(img, ctx) {\n    var canvas = ctx.canvas;\n    var hRatio = canvas.width / img.width;\n    var vRatio = canvas.height / img.height;\n    console.log('canvas width', canvas.width);\n    console.log('canvas height', canvas.height);\n\n    var ratio = Math.min(hRatio, vRatio);\n    console.log('ratio width', img.width * ratio);\n    console.log('ratio height', img.height * ratio);\n    var centerShift_x = (canvas.width - img.width * ratio) / 2;\n    var centerShift_y = (canvas.height - img.height * ratio) / 2;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.drawImage(img, 0, 0, img.width, img.height,\n      centerShift_x, centerShift_y, img.width * ratio, img.height * ratio);\n  }\n  saveCurrentArt(isNew?: boolean, source?: string) {\n    let newSource = this.canvas.toDataURL();\n    if (source) {\n      newSource = source;\n    }\n    const imgObj = {\n      'name': this.savedImageArr.length + 'index',\n      'src': newSource, 'favorite': false\n    };\n\n    let res = true;\n    isNew = true;\n    if (isNew) {\n      this.savedImageArr.push(imgObj);\n    } else {\n      this.savedImageArr[this.currImageIndex] = imgObj;\n    }\n\n    this.currImageIndex = this.savedImageArr.length - 1;\n    this.saveImageFirebase.emit(imgObj);\n\n    this.loader.nativeElement.style.visibility = \"hidden\";\n    this.renderDone = true;\n    this.renderDoneEmit.emit(true);\n    this.renderImage();\n  }\n\n  setCustomImages(clear) {\n    this.patternOne.src = this.customImages[0].src\n    this.patternOne.crossOrigin = \"Anonymous\";\n    this.patternOne.onload = function () {\n      const pattern = this.ctx.createPattern(this.patternOne, 'repeat');\n      this.ctx.fillStyle = pattern;\n      this.customImages[0].ready = true;\n      this.customImagesLoaded.push(this.patternOne);\n\n      this.patternTwo.src = this.customImages[1].src;\n      this.patternTwo.onload = function () {\n        const pattern = this.ctx.createPattern(this.patternTwo, 'repeat');\n        this.ctx.fillStyle = pattern;\n        this.customImages[1].ready = true;\n        this.customImagesLoaded.push(this.patternTwo);\n        this.patternThree.src = this.customImages[2].src;\n        this.patternThree.onload = function () {\n          const pattern = this.ctx.createPattern(this.patternThree, 'repeat');\n          this.ctx.fillStyle = pattern;\n          this.customImages[2].ready = true;\n          this.customImagesLoaded.push(this.patternThree);\n\n          this.patternFour.src = this.customImages[3].src;\n          this.patternFour.onload = function () {\n            const pattern = this.ctx.createPattern(this.patternFour, 'repeat');\n            this.ctx.fillStyle = pattern;\n            this.customImages[3].ready = true;\n            this.customImagesLoaded.push(this.patternFour);\n            this.patternFive.src = this.customImages[4].src;\n            this.patternFive.onload = function () {\n              const pattern = this.ctx.createPattern(this.patternFive, 'repeat');\n              this.ctx.fillStyle = pattern;\n              this.customImages[4].ready = true;\n              this.customImagesLoaded.push(this.patternFive);\n              this.patternSix.src = this.customImages[5].src;\n              this.patternSix.onload = async function () {\n                const pattern = this.ctx.createPattern(this.patternSix, 'repeat');\n                this.ctx.fillStyle = pattern;\n                this.customImages[5].ready = true;\n                this.customImagesLoaded.push(this.patternSix);\n                await this.getRandomArt(clear)\n              }.bind(this);\n            }.bind(this);\n          }.bind(this);\n        }.bind(this);\n\n      }.bind(this);\n    }.bind(this);\n  }\n\n  // helpers\n  getDistance(x1, y1, x2, y2) {\n    var xs = x2 - x1,\n      ys = y2 - y1;\n    xs *= xs;\n    ys *= ys;\n    return Math.sqrt(xs + ys);\n  }\n\n  calcPolygonArea(vertices) {\n    var total = 0;\n\n    for (var i = 0, l = vertices.length; i < l; i++) {\n      var addX = vertices[i].x;\n      var addY = vertices[i == vertices.length - 1 ? 0 : i + 1].y;\n      var subX = vertices[i == vertices.length - 1 ? 0 : i + 1].x;\n      var subY = vertices[i].y;\n\n      total += (addX * addY * 0.5);\n      total -= (subX * subY * 0.5);\n    }\n\n    return Math.abs(total);\n  }\n\n  //BBOOK WUZ HERE\n  getRandomColorArr() {\n    let counter = 0;\n    var colorArr = [];\n    while (counter <= this.objNum + 1) {\n      var tempRgb = this.getRandomRgb();\n      var tempRgbString = 'rgb(' + tempRgb.r + ',' + tempRgb.g + ',' + tempRgb.b + ')';\n      colorArr.push(tempRgbString);\n      counter++;\n    }\n    return colorArr;\n  }\n\n  getRandomRgb() {\n    var num = Math.round(0xffffff * Math.random());\n    var r = num >> 16;\n    var g = num >> 8 & 255;\n    var b = num & 255;\n    return { 'r': r, 'g': g, 'b': b };\n  }\n}\n","export class Utilities {\n  getGuid() {\n    function s4() {\n      return Math.floor((1 + Math.random()) * 0x10000)\n        .toString(16)\n        .substring(1);\n    }\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n  }\n  byteCount(s) {\n    return encodeURI(s).split(/%..|./).length - 1;\n  }\n  randomlyChooseOneOrTwo() {\n    const num = Math.random() + 1;\n    if (num < 1.5) {\n      return 1;\n    } else {\n      return 2;\n    }\n  }\n\n  randomlyChooseTrueOrFalse() {\n    const num = Math.random() + 1;\n    if (num < 1.5) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  randomlyChooseTrueOrFalseThird() {\n    const num = Math.random() + 3;\n    if (num < 1.5) {\n      return true;\n    } else {\n      return false;\n    }\n  }   \n  randomlyChooseTrueOrFalseThirdReal() {\n    const num = Math.random() * 3;\n    if (num <= 2) {\n      return true;\n    } else {\n      return false;\n    }\n  }   \n\n  randomlyChooseTrueOrFalse10Real() {\n    const num = Math.random() * 10;\n    if (num < 5) {\n      return true;\n    } else {\n      return false;\n    }\n  }   \n\n\n  randomlyChooseTrueOrFalseQuarter() {\n    const num = Math.random() * 4;\n    if (num < 3) {\n      return 'repeat';\n    } else {\n      return 'no-repeat';\n    }\n  }  \n}\n","module.exports = \"<div class=\\\"margin-auto z-index-100\\\">\\n\\n<button class=\\\"material-text float-right hover\\\" style=\\\"min-width: 0px !important; margin-right: -20px !important; margin-top: -20px !important; opacity: .5\\\"  mat-icon-button mat-dialog-close>X</button><span>\\n  <h2 class=\\\"material-text\\\" mat-dialog-title> Sign In </h2>\\n  <mat-dialog-content>\\n\\n    <div id=\\\"loader\\\">Loading...</div>\\n    <div id=\\\"user-signed-out\\\">\\n      <div id=\\\"firebaseui-container\\\"></div>\\n    </div>\\n  </mat-dialog-content>\\n</span>\\n</div>\"","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}